\documentclass[leqno]{article}           % leqno für die Linksnummerierung von Formeln
\usepackage[utf8]{inputenc}              % Benutzug von UTF-8 Textdateien
\usepackage[T1]{fontenc}                 % Umlaute und co
\usepackage[ngerman]{babel}              % Deutsche Trennung von Wörtern
\usepackage{amsmath}                     % Benutzung von flalign
\usepackage[showframe]{geometry}         % Anzeigen des Seitenaufbaus
\usepackage{stmaryrd}                    % Das Blitzsybol für Widersprüche

\usepackage{tikz}
\begin{document}

\tikzstyle{a}=[draw=green,fill=green!30,
    shape=rectangle,
    rounded corners,
    draw, align=center,
    top color=white,
    bottom color=blue!20]
\tikzstyle{b}=[draw=red,fill=red!30,
    shape=rectangle,
    rounded corners,
    draw, align=center,
    top color=white,
    bottom color=blue!20]
\tikzstyle{c}=[draw=blue,fill=green!30,
    shape=rectangle,
    rounded corners,
    draw, align=center,
    top color=white,
    bottom color=blue!20]


Der Beweis von
\begin{align*}
    \exists x\forall y(\varphi(y)\leftrightarrow x=y)) \models\exists x(\varphi(x)\wedge\forall y(\varphi(y)\to x=y))
\end{align*}
als Warheitsbaum.

\begin{figure}[h]
\centering
\begin{tikzpicture}
    \node (01) [a] {$\exists x\forall y(\varphi(y)\leftrightarrow x=y))$ (01)};
    \node (02) [b, below of=01] {$\neg\exists x(\varphi(x)\wedge\forall y(\varphi(y)\to x=y))$ (02)};
    \node (03) [b, below of=02] {$\forall x\neg(\varphi(x)\wedge\forall y(\varphi(y)\to x=y))$ (03)};
    \node (04) [a, below of=03] {$\forall y(\varphi(y)\leftrightarrow a=y)$ (04)};
    \node (05) [b, below of=04] {$\neg(\varphi(a)\wedge\forall y(\varphi(y)\to a=y)$ (05)};
    \node (06) [b, below of=05, xshift=-35mm] {$\neg\varphi(a)$ (06)};
    \node (07) [b, below of=05, xshift= 35mm] {$\neg\forall y(\varphi(y)\to a=y)$ (07)};
    \node (08) [a, below of=06] {$\varphi(a)\leftrightarrow a=a$ (08)};
    \node (09) [a, below of=08, xshift= 15mm] {$\varphi(a)$ (09)};
    \node (10) [a, below of=09] {$a=a$ (10)};
    \node (11) [a, below of=08, xshift=-15mm] {$\neg\varphi(a)$ (11)};
    \node (12) [a, below of=11] {$a\neq a$ (12)};
    \node (13) [c, below of=12] {$a=a$ (13)};
    \node (14) [b, below of=07] {$\exists y\neg(\varphi(y)\to a=y)$ (14)};
    \node (15) [b, below of=14] {$\neg(\varphi(b)\to a=b)$ (15)};
    \node (16) [b, below of=15] {$\varphi(b)$ (16)};
    \node (17) [b, below of=16] {$a\neq b$ (17)};
    \node (18) [a, below of=17] {$\varphi(b)\leftrightarrow a=b$ (18)};
    \node (19) [a, below of=18, xshift= 15mm] {$\varphi(b)$ (19)};
    \node (20) [a, below of=19] {$a=b$ (20)};
    \node (21) [a, below of=18, xshift=-15mm] {$\neg\varphi(b)$ (21)};
    \node (22) [a, below of=21] {$a\neq b$ (22)};

    \node (23) [below of=22, yshift=3mm] {$(21)\lightning(16)$};
    \node (24) [below of=20, yshift=3mm] {$(20)\lightning(17)$};
    \node (25) [below of=13, yshift=3mm] {$(13)\lightning(12)$};
    \node (26) [below of=10, yshift=3mm] {$(09)\lightning(06)$};

    \draw (01) -- (02) -- (03) -- (04) -- (05);
    \draw (05.south) -- ++(0mm, -2mm) -- ++(-35mm, 0mm) -- (06.north); 
    \draw (05.south) -- ++(0mm, -2mm) -- ++( 35mm, 0mm) -- (07.north); 
    \draw (06) -- (08);
    \draw (08.south) -- ++(0mm, -2mm) -- ++( 15mm, 0mm) -- (09.north); 
    \draw (08.south) -- ++(0mm, -2mm) -- ++(-15mm, 0mm) -- (11.north); 
    \draw (09) -- (10); 
    \draw (11) -- (12) -- (13);
    \draw (07) -- (14) -- (15) -- (16) -- (17) -- (18);
    \draw (18.south) -- ++(0mm, -2mm) -- ++( 15mm, 0mm) -- (19.north); 
    \draw (18.south) -- ++(0mm, -2mm) -- ++(-15mm, 0mm) -- (21.north); 
    \draw (19) -- (20); 
    \draw (21) -- (22); 

    % \draw (01.east) .. controls +(350:2cm) and +(10:2cm) .. node[right, swap] {$\exists x \to a$} (04.east);
    % \draw[bend right]    (02.west) to node[auto, swap] {$\neg$}            (03.west);
    % \draw[bend right]    (03.west) to node[auto, swap] {$\forall x \to a$} (05.west);
    % \draw[bend left=70]  (04.east) to node[auto]       {$\forall y \to a$} (08.east);

\end{tikzpicture}
\caption{Die eine Richtung der Äquivalenz}
\label{fig:01}
\end{figure}
\newpage
Nun die andere Richtung der Aussage
\begin{align*}
    \exists x(\varphi(x)\wedge\forall y(\varphi(y)\to x=y)) \models \exists x\forall y(\varphi(y)\leftrightarrow x=y))
\end{align*}
als Warheitsbaum.

\begin{figure}[h]
\centering
\begin{tikzpicture}
    \node (01) [a] {$\exists x(\varphi(x)\wedge\forall y(\varphi(y)\to x=y))$ (01)};
    \node (02) [b, below of=01] {$\neg\exists x\forall y(\varphi(y)\leftrightarrow x=y))$ (02)};
    \node (03) [b, below of=02] {$\forall x\exists y\neg(\varphi(y)\leftrightarrow x=y))$ (03)};
    \node (04) [a, below of=03] {$\varphi(a)\wedge\forall y(\varphi(y)\to a=y)$ (04)};
    \node (05) [b, below of=04] {$\exists y\neg(\varphi(y)\leftrightarrow a=y))$ (05)};
    \node (06) [b, below of=05] {$\neg(\varphi(b)\leftrightarrow a=b))$ (06)};
    \node (07) [a, below of=06] {$\varphi(a)$ (07)};
    \node (08) [a, below of=07] {$\forall y(\varphi(y)\to a=y)$ (08)};
    \node (09) [a, below of=08] {$\varphi(b)\to a=b$ (09)};
    \node (10) [a, below of=09, xshift=-35mm] {$\neg\varphi(b)$ (10)};
    \node (11) [a, below of=09, xshift= 35mm] {$a=b$ (11)};
    \node (12) [b, below of=11, xshift=-15mm] {$\varphi(b)$ (12)};
    \node (13) [b, below of=11, xshift= 15mm] {$\neg\varphi(b)$ (13)};
    \node (14) [b, below of=12] {$a\neq b$ (14)};
    \node (15) [b, below of=13] {$a=b$ (15)};
    \node (16) [b, below of=10, xshift=-15mm] {$\varphi(b)$ (16)};
    \node (17) [b, below of=10, xshift= 15mm] {$\neg\varphi(b)$ (17)};
    \node (18) [b, below of=16] {$a\neq b$ (18)};
    \node (19) [b, below of=17] {$a=b$ (19)};
    \node (20) [c, below of=15] {$\neg\varphi(a)$ (20)};
    \node (21) [c, below of=19] {$\neg\varphi(a)$ (21)};

    \node (22) [below of=18, yshift=3mm] {$(16)\lightning(10)$};
    \node (23) [below of=21, yshift=3mm] {$(21)\lightning(07)$};
    \node (24) [below of=14, yshift=3mm] {$(14)\lightning(11)$};
    \node (25) [below of=20, yshift=3mm] {$(20)\lightning(07)$};

    \draw (01) -- (02) -- (03) -- (04) -- (05) -- (06) -- (07) -- (08) -- (09);
    \draw (09.south) -- ++(0mm, -2mm) -- ++( 35mm, 0mm) -- (11.north); 
    \draw (09.south) -- ++(0mm, -2mm) -- ++(-35mm, 0mm) -- (10.north); 
    \draw (11.south) -- ++(0mm, -2mm) -- ++( 15mm, 0mm) -- (13.north); 
    \draw (11.south) -- ++(0mm, -2mm) -- ++(-15mm, 0mm) -- (12.north); 
    \draw (10.south) -- ++(0mm, -2mm) -- ++( 15mm, 0mm) -- (17.north); 
    \draw (10.south) -- ++(0mm, -2mm) -- ++(-15mm, 0mm) -- (16.north); 
    \draw (13) -- (15) -- (20);
    \draw (17) -- (19) -- (21);
    \draw (16) -- (18);
    \draw (12) -- (14);

\end{tikzpicture}
\caption{Die andere Richtung der Äquivalenz}
\label{fig:02}
\end{figure}

\end{document}
